@model OnePageCheckoutModel
@using Nop.Web.Models.Checkout;
@using Nop.Core.Infrastructure;
@{
    Layout = "~/Views/Shared/_ColumnsOne.cshtml";

    Html.AddScriptParts("~/Scripts/public.accordion.js");
    Html.AddScriptParts("~/Scripts/public.onepagecheckout.js");
    
    
    var storeLocation = EngineContext.Current.Resolve<Nop.Core.IWebHelper>().GetStoreLocation();

    //title



}
@Html.Partial("~/Views/Shared/header_nav.cshtml")
<script lang="Javascript">
        document.title = "Master Spas, Inc., Checkout";
</script>
<div class="container">
    <div class="page checkout-page">
        <div class="page-body checkout-data">
            <ol class="opc" id="checkout-steps">

                @* RGT --- if (Model.ShippingRequired)
                    {  Commenting out Shipping condition so Shipping displays *@
                <li id="opc-shipping" class="tab-section allow">
                    <div class="step-title">
                        <h4 style="color:#fff;">Shipping Address</h4>
                    </div>
                    <div id="checkout-step-shipping" class="step a-item" style="display: none;">
                        <form action="" id="co-shipping-form">
                            <div id="checkout-shipping-load">
                                @*shipping address content will be loaded here*@
                                @Html.Action("OpcShippingForm", "Checkout")
                            </div>
                        </form>
                        <script type="text/javascript">
                            Shipping.init('#co-shipping-form', '@(storeLocation)checkout/OpcSaveShipping/');
                            if ($("#shipping-address-select").length > 0) {
                                Shipping.newAddress(!$('#shipping-address-select').val());
                            }
                        </script>
                        <div class="buttons" id="shipping-buttons-container">
                            <p class="back-link">
                                <a href="#" onclick="Checkout.back(); return false;"><small>&laquo; </small>@T("Common.Back")</a>
                            </p>
                            <input type="button" class="collapsed btn btn-success" title="@T("Common.Continue")" onclick="Shipping.save()" value="@T("Common.Continue")" />
                            <span id="shipping-please-wait" class="please-wait" style="display: none;">Estimating Shipping... </span>
                        </div>
                    </div>
                </li>
                <li id="opc-shipping_method" class="tab-section">
                    <div class="step-title">
                        <h4 style="color:#fff;">Shipping Method</h4>
                    </div>
                    <div id="checkout-step-shipping-method" class="step a-item" style="display: none;">
                        <form id="co-shipping-method-form" action="">
                            <div id="checkout-shipping-method-load">
                                @*shipping methods content will be loaded here*@
                            </div>
                            <script type="text/javascript">
                            ShippingMethod.init('#co-shipping-method-form', '@(storeLocation)checkout/OpcSaveShippingMethod/');
                            </script>
                            <div class="buttons" id="shipping-method-buttons-container">
                                <p class="back-link">
                                    <a href="#" onclick="Checkout.back(); return false;"><small>&laquo; </small>@T("Common.Back")</a>
                                </p>
                                <input type="button" class="collapsed btn btn-success" onclick="ShippingMethod.save()" value="Continue" />
                                <span class="please-wait" id="confirm-order-please-wait" style="display: none;">@T("Checkout.SubmittingOrder")</span>
                            </div>
                        </form>
                    </div>
                </li>
                <!--<li id="opc-payment_method" class="tab-section">
                    div class="step-title">
                            <h4 style="color:#fff;">Payment Method</h4>
                        </div>
                        <div id="checkout-step-payment-method" class="step a-item" style="display: none;">
                            <form action="" id="co-payment-method-form">
                            <div id="checkout-payment-method-load">
                                @*payment methods content will be loaded here*@ Payment is not required
                            </div>
                            </form>
                            <script type="text/javascript">
                                PaymentMethod.init('#co-payment-method-form', '@(storeLocation)checkout/OpcSavePaymentMethod/');
                            </script>
                            <div class="buttons" id="payment-method-buttons-container">
                                <p class="back-link">
                                    <a href="#" onclick="Checkout.back(); return false;"><small>&laquo; </small>@T("Common.Back")</a></p>
                                <input type="button" class="button-1 payment-method-next-step-button" onclick="PaymentMethod.save()" value="@T("Common.Continue")" />
                                <span class="please-wait" id="payment-method-please-wait" style="display: none;">@T("Common.LoadingNextStep")</span>
                            </div>
                        </div>
                    </li>-->

                <li id="opc-confirm_order" class="tab-section">
                    <div class="step-title">
                        <h4 style="color:#fff;">Confirm Order</h4>
                    </div>
                    <div id="checkout-step-confirm-order" class="step a-item" style="display: none;">
                        <div id="checkout-confirm-order-load">
                            @*confirm order content will be loaded here*@
                        </div>
                        <script type="text/javascript">
                        PaymentMethod.init('@(storeLocation)checkout/PaymentMethod_New/');
                        </script>
                        <div class="checkout-buttons" id="confirm-order-buttons-container">
                            <p class="back-link">
                                <a href="#" onclick="Checkout.back(); return false;"><small>&laquo; </small>@T("Common.Back")</a>
                            </p>


                            <input type="button" class="collapsed btn btn-success" onclick="PaymentMethod.loadPaymentInfo()" value="Continue" />
                            <span class="please-wait" id="confirm-order-please-wait" style="display: none;">@T("Checkout.SubmittingOrder")</span>
                        </div>
                    </div>
                </li>
                <li id="opc-payment_info" class="tab-section">
                    <div class="step-title">
                        <h4 style="color:#fff;">Credit Info</h4>
                    </div>
                    <div id="checkout-step-payment-info" class="step a-item" style="display: none;">
                        <form id="co-payment-info-form" action="">
                            <div id="checkout-payment-info-load">
                                @*payment info content will be loaded here*@ Payment is not required
                            </div>
                        
                        <script type="text/javascript">
                        PaymentInfo.init('#co-payment-info-form', '@(storeLocation)checkout/OpcSavePaymentInfo/');
                        </script>
                            </form>
                    </div>
                </li>

            </ol>
        </div>
        <script type="text/javascript">
        Accordion.init('checkout-steps', '.step-title', true);
        Accordion.openSection('#opc-shipping');

        Checkout.init('@(storeLocation)cart/');
        </script>
    </div>
</div>

@Html.Partial("~/Views/Shared/_FooterScriptTags.cshtml")
@Html.Widget("home_page_bottom")